class dsu:
    def __init__(self,s):
        self.par=[]
        for i in range(s):
            self.par.append(i)
        self.size=[1]*(s)
    def find(self,node):
        if self.par[node]==node:
            return node
        return self.find(self.par[node])
    def union(self,x,y):
        px=self.find(x)
        py=self.find(y)
        if px==py:
            return
        if self.size[px]>self.size[py]:
            self.par[py]=px
            self.size[px]+=self.size[py]
        else:
            self.par[px]=py
            self.size[py]+=self.size[px]
class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        # return 0
        dic={}
        initial.sort()
        d=dsu(len(graph))
        for i in range(len(graph)):
            for j in range(len(graph[i])):
                if graph[i][j]==1 and i!=j:
                    d.union(i,j)
        for i in range(len(initial)):
            a=d.find(initial[i])
            x=initial[i]
            for j in range(i+1,len(initial)):
                y=initial[j]
                b=d.find(initial[j])
                if a==b:
                    if x not in dic:
                        dic[x]=1
                    else:
                        dic[x]+=1
                    if y not in dic:
                        dic[y]=1
                    else:
                        dic[y]+=1
        idd=-1
        for i in initial:
            if i in dic:
                idd=i
                break
        ans=0
        # return d.size
        for i in initial:
            if i not in dic:
                # return i
                p=d.find(i)
                if d.size[p]>ans:
                    idd=i
                    ans=d.size[p]
        return idd